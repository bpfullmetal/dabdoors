jQuery(document).ready(function(t){"use strict";function o(){function o(){var t=d.filter(".hoot-sc-section-"+h),o=t.find('[data-sctype="attribute"]'),e=t.find('[data-sctype="content"]');return n(h,o,e,!1)}function n(o,i,a,r,s){var c="";if(r)var d="subscname",h="scfield-"+s+"\\["+o+"\\]\\["+r+"\\]";else var d="scname",h="scfield-"+o;return c+="["+o,i.length>0&&i.each(function(o){var n=t(this).data(d),i=t(this).find("[name=hoot-"+h+"\\["+n+"\\]]"),a=e(i);a&&(c+=" "+n+'="'+a+'"')}),c+="]",a.length>0&&(a.first().each(function(){var i="";if(t(this).hasClass("section-group")){var a=t(this).data(d);t(this).find(".hoot-of-group").each(function(){var e=t(this).data("iteration"),r=t(this).find('[data-subsctype="attribute"]'),s=t(this).find('[data-subsctype="content"]');i+="\n"+n(a,r,s,e,o)}),i+="\n"}else{var r=t(this).find("[name=hoot-"+h+"\\[content\\]]");i=e(r)}i&&(c+=i)}),c+="[/"+o+"]"),c}function e(t){return t.length>0?t.is(":radio")||t.is(":checkbox")?t.filter(":checked").val():t.val():""}var i="",a=t(".hoot-sc-generator-button"),r=t("#hoot-sc-generator"),s=r.find(".hoot-sc-generator-list a"),c=r.find(".hoot-sc-generator-content > h2 span"),d=r.find(".hoot-sc-section"),h=d.first().data("shortcode");window.hoot_scGenerator_targetEditor=a.data("target"),a.magnificPopup({type:"inline",midClick:!0,alignTop:!0,closeBtnInside:!0,callbacks:{open:function(){t("body").addClass("hoot-mfp-shown"),i="undefined"!=typeof tinyMCE&&null!=tinyMCE.activeEditor&&tinyMCE.activeEditor.hasOwnProperty("selection")?tinyMCE.activeEditor.selection.getContent({format:"text"}):""},close:function(){i="",t("body").removeClass("hoot-mfp-shown")}}}),s.first().addClass("current"),s.on("click",function(o){o.preventDefault(),h=t(this).data("shortcode"),s.removeClass("current"),t(this).addClass("current"),c.html(t(this).html()),d.hide(),d.filter(".hoot-sc-section-"+h).show()}),r.on("click",".hoot-sc-generator-insert",function(n){n.preventDefault();var e=o();t.magnificPopup.close(),window.hoot_wpActiveEditor=window.wpActiveEditor,window.wpActiveEditor=window.hoot_scGenerator_targetEditor,window.wp.media.editor.insert(e),window.wpActiveEditor=window.hoot_wpActiveEditor})}o()});